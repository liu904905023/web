<include file="Base:header"/><div class="main-content">    <div class="breadcrumbs" id="breadcrumbs">        <script type="text/javascript">            try {                ace.settings.check(                    'breadcrumbs'                    ,'fixed' )            } catch ( e ) {            }        </script>        <ul class="breadcrumb">            <li>                <i class="icon-home home-icon"></i>                <a href="__APP__">首页</a>            </li>            <li>员工注册</li>        </ul>    </div>    <div class="page-content">        <div class="page-header">            <h1>员工注册</h1>        </div>        <div class="row">            <div class="col-xs-12">                <div class="row-fluid">                    <div class="span12">                        <div class="widget-box">                            <div class="widget-header widget-header-blue widget-header-flat">                                <h4 class="lighter">填写详细资料</h4>                            </div>                            <div class="widget-body">                                <div class="widget-main">                                    <div class="step-content row-fluid position-relative" id="step-container">                                        <div class="step-pane active" id="step1">                                            <form class="form-horizontal" id="validation-form" method="post" >                                                <div class="row">                                                    <div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>登录名</label>                                                                <div class="over">                                                                    <input type="text" class="form-control" name="sx_dlm" id="sx_dlm" placeholder="登录名" value=""/>                                                                </div>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>密码</label>                                                                <div class="input-group">                                                                    <input type="text" class="form-control random_pass" name="sx_pass" id="sx_pass" placeholder="密码" value=""/>                                                                    <span class="input-group-btn">                                                                        <button class="btn btn-success click_pass" type="button">                                                                            <i class="icon-key"></i>                                                                            生成密码                                                                        </button>                                                                    </span>                                                                </div>                                                            </div>                                                        </div>                                                    </div>													<div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>门店ID</label>                                                                <div class="over">                                                                    <input type="text" class="form-control" name="store_id" id="store_id" placeholder="门店ID" value=""/>                                                                </div>                                                            </div>                                                        </div>                                                    </div> 													                                                    <div class="clearfix"></div>                                                    <div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>真实姓名</label>                                                                <div class="over">                                                                    <input type="text" class="form-control" name="sx_name" id="sx_name" placeholder="显示名称" value=""/>                                                                </div>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>电话</label>                                                                <div class="over">                                                                    <input type="text" class="form-control" name="mobile" id="mobile" placeholder="电话" value=""/>                                                                </div>                                                            </div>                                                        </div>                                                    </div>                                                    <div class="col-md-4">                                                        <div class="form-group">                                                            <div class="col-xs-12 mr_mab">                                                                <label>邮箱</label>                                                                <div class="over">                                                                    <input type="text" class="form-control" name="email" id="email" placeholder="邮箱" value=""/>                                                                    <input type="hidden" class="form-control" name="inuser" id="inuser" value="1"/>                                                                    <input type="hidden" class="form-control" name="edituser" id="edituser" value="2"/>                                                                </div>                                                            </div>                                                        </div>                                                    </div>													 <div class="col-md-4">													<div class="form-group">													  <div class="col-xs-12 mr_mab">														<label>省份</label>														<div class="over">														  <select class="form-control" id="provinces" name="provinces">															<option value="">请选择省份</option>														  </select>														</div>													  </div>													</div>												  </div>												  <div class="col-md-4">													<div class="form-group">													  <div class="col-xs-12 mr_mab">														<label>市</label>														<div class="over">														  <select class="form-control" id="citys" name="citys">															<option value="">请选择市</option>														  </select>														</div>													  </div>													</div>												  </div>												  <div class="col-md-4">													<div class="form-group">													  <div class="col-xs-12 mr_mab">														<label>区</label>														<div class="over">														  <select class="form-control" id="countys" name="countys">															<option value="">请选择区</option>														  </select>														</div>													  </div>													</div>												  </div>												  <div class="clearfix"></div>												  <div class="col-md-4">													<div class="form-group">													  <div class="col-xs-12 mr_mab">														<label>详细地址</label>														<div class="over">														  <input type="text" class="form-control" name="detailaddress" id="detailaddress" placeholder="详细地址" />														</div>													  </div>													</div>												  </div>													                                                </div>                                                <div class="clearfix"></div>                                                <div class="form-group">                                                    <div class="col-xs-12">                                                        <button type="submit" class="btn btn-primary">                                                            <i class="icon-ok bigger-110"></i>                                                            确认创建                                                        </button>                                                    </div>                                                </div>                                            </form>                                        </div>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </div>        </div>    </div></div></div></div><include file="Base:jsfile"/><script type="text/javascript">    jQuery( function ( $ ){        $( '#validation-form' ).validate( {            errorElement : 'div',            errorClass : 'help-block',            focusInvalid : false,            rules : {                sx_dlm : {                    required : true,                    username:true                },                sx_pass : {                    required : true,                    appid:true                },                sx_name : {                    required : true//,                   // chinese:true                },                mobile : {                    required : true,                    mobile : true                },                email : {                    required : true,                    email : true                },				store_id : {                   // required : true,                    num : true                },                state : {                    required : true                },				provinces:{				  required:true				},				citys:{				  required:true				},				countys:{				  required:true				},				detailaddress:{				  required:true				}            },            messages : {                sx_dlm : {                    required : "登录名不能为空.",                    username:"输入正确的登录名"                },                sx_pass : {                    required : "密码不能为空."                },                sx_name : {                    required : "真实姓名不能为空.",                    chinese:"输入正确的姓名"                },                mobile : {                    required : "手机号不能为空.",                },                state : {                    required : "部门不能为空.",                },                email : {                    required : "邮箱不能为空.",					email : "请输入正确的邮箱"                },				provinces:{				required: "省级地址不能为空.",				},				citys:{				required: "市级地址不能为空.",				},				countys:{				required: "区级地址不能为空.",				},				detailaddress:{				required: "详细地址不能为空.",				},                store_id : {                    //required : "门店ID不能为空.",					num : "门店ID为数字"                },                subscription : "Please choose at least one option",                gender : "Please choose gender",                agree : "Please accept our policy"            },            invalidHandler : function ( event,                validator ){ //display error alert on form submit                   $( '.alert-danger',$( '.login-form' ) ).                    show();            },            highlight : function ( e ){                $( e ).closest( '.form-group' ).                    removeClass( 'has-info' ).addClass(                    'has-error' );            },            success : function ( e ){                $( e ).closest( '.form-group' ).                    removeClass( 'has-error' ).addClass(                    'has-info' );                $( e ).remove();            },            errorPlacement : function ( error,element ){                if ( element.is( ':checkbox' ) ||                    element.is( ':radio' ) ) {                    var controls = element.closest(                        'div[class*="col-"]' );                    if ( controls.find(                        ':checkbox,:radio' ).length > 1 )                        controls.append(                            error );                    else                        error.insertAfter(                            element.nextAll(                                '.lbl:eq(0)' ).                            eq(                                0 ) );                }                else if ( element.is( '.select2' ) ) {                    error.insertAfter( element.siblings(                        '[class*="select2-container"]:eq(0)' ) );                }                else if ( element.is(                    '.chosen-select' ) ) {                    error.insertAfter( element.siblings(                        '[class*="chosen-container"]:eq(0)' ) );                }                else                    error.insertAfter(                        element.parent() );            },            submitHandler : function ( form ){                $.ajax( {                    type : "POST",                    url : "__SELF__",                    data : {                        sx_dlm : $( "#sx_dlm" ).val(),                        sx_pass : $(                            "#sx_pass" ).                            val(),                        sx_name : $( "#sx_name" ).val(),                        mobile : $( "#mobile" ).val(),                        email : $( "#email" ).val(),                        inuser : $( "#inuser" ).val(),                        edituser : $( "#edituser" ).val(),                        store_id : $( "#store_id" ).val(),						AddressNum : $("#provinces").val()+'|'+$("#citys").val()+'|'+$("#countys").val(),						address : $("#provinces  option:selected").text()+$("#citys  option:selected").text()+$("#countys  option:selected").text()+'-'+$("#detailaddress").val()                    },					async:false,                    success : function ( data ){                                                if ( data.Code == 0 ) {							alert("员工注册成功!");                            $( "#sx_dlm" ).val( '' );                            $( "#sx_pass" ).val( '' );                            $( "#sx_name" ).val( '' );                            $( "#mobile" ).val( '' );                            $( "#email" ).val( '' );                            $( "#inuser" ).val( '' );                            $( "#edituser" ).val( '' );                        }						if(data.Code==1){													alert(data.Description);												}                    }                } )            },            invalidHandler: function ( form ){                console.log( "ajax失败！" );            }        } );    } )</script><script language="Javascript">    $( function (){        $( ".click_pass" ).click( function (){            var x = 1000000;            var y = 1;            var random = String.fromCharCode( Math.floor( Math.random() *                26 ) + "a".charCodeAt( 0 ) ).toUpperCase() + parseInt(                Math.random() * ( x - y + 1 ) + y ) + String.fromCharCode(                Math.floor( Math.random() * 26 ) + "a".charCodeAt( 0 ) );            $( ".random_pass" ).val( random );        } );    } )</script><script type="text/javascript">  		$(document).ready(function() {  			//  加载所有的省份  			$.ajax({  				type : "post",				url: "__APP__/Lian/GetAddress", // type=1表示查询省份  				data: {"type": "1"},  				success: function(data) {  //                            $("#provinces").html("<option value=1>北京市</option>");  					$("#provinces").html("<option value=''>请选择省份</option>");										$.each(data, function(i, item) {  						$("#provinces").append("<option value='" + item.region_id + "'>" + item.region_name + "</option>");  					}); 					$("#provinces option").each(function() {						var val = $(this).val();						if ( $("#provinces option[value='" + val + "']").length > 1 )							$("#provinces option[value='" + val + "']:gt(0)").remove();					});				}  			});  			$("#provinces").change(function() {  				$.ajax({  					type : "post",					url: "__APP__/Lian/GetAddress", // type =2表示查询市  					data: {"parent_id": $(this).val(), "type": "2"},  					success: function(data) {  						$("#citys").html("<option value=''>请选择市</option>");  						$("#countys").html("<option value=''>请选择区</option>");						$.each(data, function(i, item) {  							$("#citys").append("<option value='" + item.region_id + "'>" + item.region_name + "</option>");  						});  					}  				});  			});  			$("#citys").change(function() {  				$.ajax({  					type : "post",					url: "__APP__/Lian/GetAddress", // type =2表示查询市  					data: {"parent_id": $(this).val(), "type": "3"},  					success: function(data) {  						$("#countys").html("<option value=''>请选择区</option>");  						$.each(data, function(i, item) {  							$("#countys").append("<option value='" + item.region_id + "'>" + item.region_name + "</option>");  						});  					}  				}); 			$("#countys").change(function() { 				//			alert($("#countys").val());////					alert($(this).val());//			console.log($("#citys  option:selected").text()+"-"+$("#countys").val());									});			});  		});  	</script> <include file="Base:footer"/>